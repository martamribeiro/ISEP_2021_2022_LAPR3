<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="910px" preserveAspectRatio="none" style="width:1575px;height:910px;background:#FFFFFF;" version="1.1" viewBox="0 0 1575 910" width="1575px" zoomAndPan="magnify"><defs><filter height="300%" id="flqq00kz5txwg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="707.1016" style="stroke:#A80036;stroke-width:1.0;" width="10" x="61" y="99.6094"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="368" y="121.9609"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="577.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="368" y="229.2734"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="439.7734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="610" y="336.5859"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="269.625"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="889.5" y="392.2891"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="981.5" y="477.6406"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="981.5" y="653.6563"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1434.5" y="517.9922"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1507.5" y="684.0078"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="177.4063" style="stroke:#000000;stroke-width:2.0;" width="1034.5" x="527" y="569.6016"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="89.6094" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="373" x2="373" y1="89.6094" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="615" x2="615" y1="163.2656" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="794.5" x2="794.5" y1="270.5781" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="894.5" x2="894.5" y1="89.6094" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="986.5" x2="986.5" y1="89.6094" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1439.5" x2="1439.5" y1="518.9453" y2="824.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1512.5" x2="1512.5" y1="89.6094" y2="824.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="20" y="86.5332">Port Manager</text><ellipse cx="66" cy="15" fill="#FEFECE" filter="url(#flqq00kz5txwg)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M66,23 L66,50 M53,31 L79,31 M66,50 L53,65 M66,50 L79,65 " fill="none" filter="url(#flqq00kz5txwg)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="20" y="838.2441">Port Manager</text><ellipse cx="66" cy="851.3203" fill="#FEFECE" filter="url(#flqq00kz5txwg)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M66,859.3203 L66,886.3203 M53,867.3203 L79,867.3203 M66,886.3203 L53,901.3203 M66,886.3203 L79,901.3203 " fill="none" filter="url(#flqq00kz5txwg)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="110" x="316" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="323" y="74.5332">:ImportPortsUI</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="110" x="316" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="323" y="845.2441">:ImportPortsUI</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="152" x="537" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="544" y="845.2441">:ImportPortsController</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="746.5" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="753.5" y="845.2441">:PortFileUtils</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="853.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="860.5" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="853.5" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="860.5" y="845.2441">:Company</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="945.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="952.5" y="74.5332">:PortStore</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="945.5" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="952.5" y="845.2441">:PortStore</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="44" x="1415.5" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1422.5" y="845.2441">:Port</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1473.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1480.5" y="74.5332">:PortTree</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1473.5" y="823.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1480.5" y="845.2441">:PortTree</text><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="707.1016" style="stroke:#A80036;stroke-width:1.0;" width="10" x="61" y="99.6094"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="368" y="121.9609"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="577.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="368" y="229.2734"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="439.7734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="610" y="336.5859"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="269.625"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="889.5" y="392.2891"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="981.5" y="477.6406"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="981.5" y="653.6563"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1434.5" y="517.9922"/><rect fill="#FFFFFF" filter="url(#flqq00kz5txwg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1507.5" y="684.0078"/><polygon fill="#A80036" points="356,117.9609,366,121.9609,356,125.9609,360,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="71" x2="362" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="78" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="89" y="117.1045">asks to import ports from a text file into a BST</text><polygon fill="#A80036" points="525,148.3125,535,152.3125,525,156.3125,529,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="378" x2="531" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="385" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="396" y="147.4561">create()</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="152" x="537" y="129.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="544" y="151.4941">:ImportPortsController</text><polygon fill="#A80036" points="82,194.9219,72,198.9219,82,202.9219,78,198.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="76" x2="372" y1="198.9219" y2="198.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="88" y="194.0654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="99" y="194.0654">asks for data(i.e., pathOfFile)</text><polygon fill="#A80036" points="356,225.2734,366,229.2734,356,233.2734,360,229.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="71" x2="362" y1="229.2734" y2="229.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="78" y="224.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="89" y="224.417">types requested data</text><polygon fill="#A80036" points="734.5,255.625,744.5,259.625,734.5,263.625,738.5,259.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="378" x2="740.5" y1="259.625" y2="259.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="385" y="254.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="396" y="254.7686">create()</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="746.5" y="237.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="753.5" y="258.8066">:PortFileUtils</text><polygon fill="#A80036" points="783,302.2344,793,306.2344,783,310.2344,787,306.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="378" x2="789" y1="306.2344" y2="306.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="385" y="301.3779">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377" x="396" y="301.3779">List&lt;PortsFileDTO&gt;portsOfFile = getPortsDataToDTO(pathOfFile)</text><polygon fill="#A80036" points="598,332.5859,608,336.5859,598,340.5859,602,336.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="378" x2="604" y1="336.5859" y2="336.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="385" y="331.7295">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="396" y="331.7295">importPortsFromFile(portsFileDTO)</text><polygon fill="#A80036" points="877.5,388.2891,887.5,392.2891,877.5,396.2891,881.5,392.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="620" x2="883.5" y1="392.2891" y2="392.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="627" y="387.4326">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="638" y="387.4326">getPortStore()</text><polygon fill="#A80036" points="969.5,473.6406,979.5,477.6406,969.5,481.6406,973.5,477.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="620" x2="975.5" y1="477.6406" y2="477.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="627" y="472.7842">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="638" y="472.7842">createPort(portsFileDTO)</text><polygon fill="#A80036" points="1403.5,503.9922,1413.5,507.9922,1403.5,511.9922,1407.5,507.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="986.5" x2="1409.5" y1="507.9922" y2="507.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="993.5" y="503.1357">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382" x="1011.5" y="503.1357">create(continent, country, portCode, portName, latitude, longitude)</text><rect fill="#FEFECE" filter="url(#flqq00kz5txwg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="44" x="1415.5" y="485.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1422.5" y="507.1738">:Port</text><polygon fill="#A80036" points="631,550.6016,621,554.6016,631,558.6016,627,554.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="625" x2="1438.5" y1="554.6016" y2="554.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="637" y="549.7451">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="655" y="549.7451">newPort</text><path d="M527,569.6016 L588,569.6016 L588,577.6016 L578,587.6016 L527,587.6016 L527,569.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="177.4063" style="stroke:#000000;stroke-width:2.0;" width="1034.5" x="527" y="569.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="542" y="584.0967">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="160" x="603" y="583.0205">[if Port is new in the system]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620" x2="662" y1="610.3047" y2="610.3047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662" x2="662" y1="610.3047" y2="623.3047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621" x2="662" y1="623.3047" y2="623.3047"/><polygon fill="#A80036" points="631,619.3047,621,623.3047,631,627.3047,627,623.3047" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="627" y="605.4482">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="645" y="605.4482">savePort()</text><polygon fill="#A80036" points="969.5,649.6563,979.5,653.6563,969.5,657.6563,973.5,653.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="620" x2="975.5" y1="653.6563" y2="653.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="627" y="648.7998">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="645" y="648.7998">savePort(port)</text><polygon fill="#A80036" points="1495.5,680.0078,1505.5,684.0078,1495.5,688.0078,1499.5,684.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="991.5" x2="1501.5" y1="684.0078" y2="684.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="998.5" y="679.1514">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1016.5" y="679.1514">insert(port)</text><polygon fill="#A80036" points="389,772.3594,379,776.3594,389,780.3594,385,776.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="383" x2="614" y1="776.3594" y2="776.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="395" y="771.5029">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="413" y="771.5029">result</text><polygon fill="#A80036" points="77,802.7109,67,806.7109,77,810.7109,73,806.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71" x2="372" y1="806.7109" y2="806.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83" y="801.8545">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="101" y="801.8545">informs of operation success or fail</text><!--MD5=[e8169bcea7f3a7729b010deb599fd0e8]
@startuml
autonumber
'hide footbox
actor "Port Manager" as PM
participant ":ImportPortsUI  " as UI
participant ":ImportPortsController" as CTRL
participant ":PortFileUtils" as TFU
participant ":Company" as CMP
participant ":PortStore" as STORE
participant ":Port" as PORT
participant ":PortTree" as TREE

activate PM
PM -> UI : asks to import ports from a text file into a BST
activate UI
UI -> CTRL** : create()
UI - -> PM : asks for data(i.e., pathOfFile)
deactivate UI
PM -> UI : types requested data
activate UI
UI -> TFU** : create()
activate TFU
UI -> TFU : List<PortsFileDTO>portsOfFile = getPortsDataToDTO(pathOfFile)
deactivate TFU
UI -> CTRL : importPortsFromFile(portsFileDTO)
activate CTRL
alt for each PortsFileDTO of the list
CTRL -> CMP : getPortStore()
activate CMP
|||
deactivate CMP
CTRL -> STORE : createPort(portsFileDTO)
activate STORE
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude)
activate PORT
deactivate STORE
PORT - -> CTRL : newPort
deactivate PORT
alt if Port is new in the system
CTRL -> CTRL : savePort()
CTRL -> STORE : savePort(port)
activate STORE
STORE -> TREE : insert(port)
activate TREE
|||
deactivate TREE
deactivate STORE
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

@startuml
autonumber
actor "Port Manager" as PM
participant ":ImportPortsUI  " as UI
participant ":ImportPortsController" as CTRL
participant ":PortFileUtils" as TFU
participant ":Company" as CMP
participant ":PortStore" as STORE
participant ":Port" as PORT
participant ":PortTree" as TREE

activate PM
PM -> UI : asks to import ports from a text file into a BST
activate UI
UI -> CTRL** : create()
UI - -> PM : asks for data(i.e., pathOfFile)
deactivate UI
PM -> UI : types requested data
activate UI
UI -> TFU** : create()
activate TFU
UI -> TFU : List<PortsFileDTO>portsOfFile = getPortsDataToDTO(pathOfFile)
deactivate TFU
UI -> CTRL : importPortsFromFile(portsFileDTO)
activate CTRL
alt for each PortsFileDTO of the list
CTRL -> CMP : getPortStore()
activate CMP
|||
deactivate CMP
CTRL -> STORE : createPort(portsFileDTO)
activate STORE
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude)
activate PORT
deactivate STORE
PORT - -> CTRL : newPort
deactivate PORT
alt if Port is new in the system
CTRL -> CTRL : savePort()
CTRL -> STORE : savePort(port)
activate STORE
STORE -> TREE : insert(port)
activate TREE
|||
deactivate TREE
deactivate STORE
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>