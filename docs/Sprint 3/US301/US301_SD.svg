<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1374.4px" preserveAspectRatio="none" style="width:2103px;height:1374px;background:#FFFFFF;" version="1.1" viewBox="0 0 2103 1374" width="2103.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fwim6mmt1buq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6000000000000003"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2000000000000006" dy="3.2000000000000006" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1214.1375" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="47.6" y="78.6375"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1185.125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="385.2" y="107.65"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1138.5125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="582" y="130.9563"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="270.8188"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="625.05"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="719.6625"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="57.0125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="919.6" y="190.5"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="919.6" y="766.9688"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="23.3063" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="337.4313"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="384.0438"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="977.3125"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="1072.8313"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="1120.1375"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="134.9563" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1242.8" y="473.1875"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1451.6" y="672.3563"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1451.6" y="814.275"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="107.625" style="stroke:#000000;stroke-width:1.6000000000000003;" width="725.2" x="478" y="306.8188"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="83.65" style="stroke:#000000;stroke-width:1.6000000000000003;" width="706.8" x="1195.2" y="518.8938"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="850.275"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="898.4875"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="227.1438" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1622.4" x="470" y="946.7"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="1013.3125"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="61.9188" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1622.4" x="470" y="1185.0438"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="1204.35"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="51.2" x2="51.2" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="388.8" x2="388.8" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="586" x2="586" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="793.6" x2="793.6" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="923.2" x2="923.2" y1="163.475" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1148" x2="1148" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1246.4" x2="1246.4" y1="446.1625" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1455.2" x2="1455.2" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1873.2" x2="1873.2" y1="558.7188" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1930.8" x2="1930.8" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="1999.6" x2="1999.6" y1="70.6375" y2="1307.175"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="2058" x2="2058" y1="70.6375" y2="1307.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="90.4" x="4" y="67.9961">Traffic Manager</text><ellipse cx="51.6" cy="12" fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" rx="6.4" ry="6.4" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><path d="M51.6,18.4 L51.6,40 M41.2,24.8 L62,24.8 M51.6,40 L41.2,52 M51.6,40 L62,52 " fill="none" filter="url(#f1fwim6mmt1buq)" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="90.4" x="4" y="1316.7711">Traffic Manager</text><ellipse cx="51.6" cy="1327.4125" fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" rx="6.4" ry="6.4" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><path d="M51.6,1333.8125 L51.6,1355.4125 M41.2,1340.2125 L62,1340.2125 M51.6,1355.4125 L41.2,1367.4125 M51.6,1355.4125 L62,1367.4125 " fill="none" filter="url(#f1fwim6mmt1buq)" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="157.6" x="308.8" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="140" x="314.4" y="58.3961">:CreateFreightNetworkUI</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="157.6" x="308.8" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="140" x="314.4" y="1322.3711">:CreateFreightNetworkUI</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="196.8" x="486" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="185.6" x="491.6" y="58.3961">:CreateFreightNetworkController</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="196.8" x="486" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="185.6" x="491.6" y="1322.3711">:CreateFreightNetworkController</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="69.6" x="757.6" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="763.2" y="58.3961">:Company</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="69.6" x="757.6" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="58.4" x="763.2" y="1322.3711">:Company</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="106.4" x="868.8" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="95.2" x="874.4" y="1322.3711">:CountryStoreDb</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="90.4" x="1101.6" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="79.2" x="1107.2" y="58.3961">:CountryStore</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="90.4" x="1101.6" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="79.2" x="1107.2" y="1322.3711">:CountryStore</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="84" x="1203.2" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="72.8" x="1208.8" y="1322.3711">:PortStoreDb</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="68" x="1420" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="56.8" x="1425.6" y="58.3961">:PortStore</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="68" x="1420" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="56.8" x="1425.6" y="1322.3711">:PortStore</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="37.6" x="1853.2" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="26.4" x="1858.8" y="1322.3711">:Port</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="55.2" x="1902" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="44" x="1907.6" y="58.3961">:Capital</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="55.2" x="1902" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="44" x="1907.6" y="1322.3711">:Capital</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="60" x="1968.4" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48.8" x="1974" y="58.3961">:Country</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="60" x="1968.4" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48.8" x="1974" y="1322.3711">:Country</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="33.6" x="2039.6" y="42.4"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="22.4" x="2045.2" y="58.3961">NET</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="33.6" x="2039.6" y="1306.375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="22.4" x="2045.2" y="1322.3711">NET</text><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1214.1375" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="47.6" y="78.6375"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1185.125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="385.2" y="107.65"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="1138.5125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="582" y="130.9563"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="270.8188"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="625.05"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="790" y="719.6625"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="57.0125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="919.6" y="190.5"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="919.6" y="766.9688"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="23.3063" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="337.4313"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="384.0438"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="977.3125"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="1072.8313"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1144.4" y="1120.1375"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="134.9563" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1242.8" y="473.1875"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1451.6" y="672.3563"/><rect fill="#FFFFFF" filter="url(#f1fwim6mmt1buq)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="1451.6" y="814.275"/><polygon fill="#A80036" points="375.6,104.45,383.6,107.65,375.6,110.85,378.8,107.65" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="55.6" x2="380.4" y1="107.65" y2="107.65"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="61.2" y="97.5441">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="304" x="71.6" y="91.491">asks to create a freight network importing ports, countries</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="144.8" x="74.8" y="103.5973">and seadists from database</text><polygon fill="#A80036" points="572.4,127.7563,580.4,130.9563,572.4,134.1563,575.6,130.9563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="393.2" x2="577.2" y1="130.9563" y2="130.9563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="398.8" y="126.9035">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="163.2" x="409.2" y="126.9035">CreateFreightNetworkFromDb()</text><polygon fill="#A80036" points="859.2,151.0625,867.2,154.2625,859.2,157.4625,862.4,154.2625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="864" y1="154.2625" y2="154.2625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="595.6" y="150.2098">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="32.8" x="606" y="150.2098">create</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="106.4" x="868.8" y="137.3563"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="95.2" x="874.4" y="153.3523">:CountryStoreDb</text><polygon fill="#A80036" points="910,187.3,918,190.5,910,193.7,913.2,190.5" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="914.8" y1="190.5" y2="190.5"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="595.6" y="186.4473">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="304" x="606" y="186.4473">List&lt;Country&gt; existentCountries = getExistentCountries()</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="927.6" x2="961.2" y1="213.8063" y2="213.8063"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="961.2" x2="961.2" y1="213.8063" y2="224.2063"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="928.4" x2="961.2" y1="224.2063" y2="224.2063"/><polygon fill="#A80036" points="936.4,221.0063,928.4,224.2063,936.4,227.4063,933.2,224.2063" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="933.2" y="209.7535">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="195.2" x="943.6" y="209.7535">resultSet = getCountriesInDatabase()</text><polygon fill="#A80036" points="598.8,244.3125,590.8,247.5125,598.8,250.7125,595.6,247.5125" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="594" x2="922.8" y1="247.5125" y2="247.5125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="603.6" y="243.4598">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="92" x="614" y="243.4598">existentCountries</text><polygon fill="#A80036" points="780.4,267.6188,788.4,270.8188,780.4,274.0188,783.6,270.8188" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="785.2" y1="270.8188" y2="270.8188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="595.6" y="266.766">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="174.4" x="606" y="266.766">countryStore = getCountryStore()</text><path d="M478,306.8188 L529.2,306.8188 L529.2,312.4188 L521.2,320.4188 L478,320.4188 L478,306.8188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="107.625" style="stroke:#000000;stroke-width:1.6000000000000003;" width="725.2" x="478" y="306.8188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="490" y="317.2723">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="194.4" x="541.2" y="316.5871">[for each country in existentCountries]</text><polygon fill="#A80036" points="1134.8,334.2313,1142.8,337.4313,1134.8,340.6313,1138,337.4313" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1139.6" y1="337.4313" y2="337.4313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="595.6" y="333.3785">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="139.2" x="606" y="333.3785">createCountry(countryDto)</text><polygon fill="#A80036" points="598.8,357.5375,590.8,360.7375,598.8,363.9375,595.6,360.7375" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="594" x2="1147.6" y1="360.7375" y2="360.7375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="7.2" x="603.6" y="356.6848">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="39.2" x="614" y="356.6848">country</text><polygon fill="#A80036" points="1134.8,380.8438,1142.8,384.0438,1134.8,387.2438,1138,384.0438" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1139.6" y1="384.0438" y2="384.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="379.991">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="112.8" x="613.2" y="379.991">saveCountry(country)</text><polygon fill="#A80036" points="1193.6,433.75,1201.6,436.95,1193.6,440.15,1196.8,436.95" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1198.4" y1="436.95" y2="436.95"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="432.8973">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="32.8" x="613.2" y="432.8973">create</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="84" x="1203.2" y="420.0438"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="72.8" x="1208.8" y="436.0398">:PortStoreDb</text><polygon fill="#A80036" points="1233.2,469.9875,1241.2,473.1875,1233.2,476.3875,1236.4,473.1875" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1238" y1="473.1875" y2="473.1875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="469.1348">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="303.2" x="613.2" y="469.1348">List&lt;Port&gt; existentPorts = portStoreDb.getExistentPorts()</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1250.8" x2="1284.4" y1="496.4938" y2="496.4938"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1284.4" x2="1284.4" y1="496.4938" y2="506.8938"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1251.6" x2="1284.4" y1="506.8938" y2="506.8938"/><polygon fill="#A80036" points="1259.6,503.6938,1251.6,506.8938,1259.6,510.0938,1256.4,506.8938" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="1256.4" y="492.441">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="172" x="1274" y="492.441">resultSet = getPortsInDatabase()</text><path d="M1195.2,518.8938 L1246.4,518.8938 L1246.4,524.4938 L1238.4,532.4938 L1195.2,532.4938 L1195.2,518.8938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="83.65" style="stroke:#000000;stroke-width:1.6000000000000003;" width="706.8" x="1195.2" y="518.8938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="1207.2" y="529.3473">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="132.8" x="1258.4" y="528.6621">[for each port in resultset]</text><polygon fill="#A80036" points="1843.6,546.3063,1851.6,549.5063,1843.6,552.7063,1846.8,549.5063" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1250.8" x2="1848.4" y1="549.5063" y2="549.5063"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="1256.4" y="545.4535">14</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="565.6" x="1274" y="545.4535">create(continent, country, portCode, portName, latitude, longitude, Map&lt;Integer, Integer&gt; toPortsDistances)</text><rect fill="#FEFECE" filter="url(#f1fwim6mmt1buq)" height="24.2375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="37.6" x="1853.2" y="532.6"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="26.4" x="1858.8" y="548.5961">:Port</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1250.8" x2="1284.4" y1="585.7438" y2="585.7438"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1284.4" x2="1284.4" y1="585.7438" y2="596.1438"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="1251.6" x2="1284.4" y1="596.1438" y2="596.1438"/><polygon fill="#A80036" points="1259.6,592.9438,1251.6,596.1438,1259.6,599.3438,1256.4,596.1438" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="1256.4" y="581.691">15</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="1274" y="581.691">existentPorts.add(port)</text><polygon fill="#A80036" points="780.4,621.85,788.4,625.05,780.4,628.25,783.6,625.05" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="785.2" y1="625.05" y2="625.05"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="620.9973">16</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="136" x="613.2" y="620.9973">portStore = getPortStore()</text><polygon fill="#A80036" points="1442,669.1563,1450,672.3563,1442,675.5563,1445.2,672.3563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1446.8" y1="672.3563" y2="672.3563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="668.3035">17</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="156" x="613.2" y="668.3035">importPortsList(existentPorts)</text><polygon fill="#A80036" points="780.4,716.4625,788.4,719.6625,780.4,722.8625,783.6,719.6625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="785.2" y1="719.6625" y2="719.6625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="715.6098">18</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="104.8" x="613.2" y="715.6098">getFreigthNetwork()</text><polygon fill="#A80036" points="910,763.7688,918,766.9688,910,770.1688,913.2,766.9688" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="914.8" y1="766.9688" y2="766.9688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="762.916">19</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="74.4" x="613.2" y="762.916">getCountries()</text><polygon fill="#A80036" points="1442,811.075,1450,814.275,1442,817.475,1445.2,814.275" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1446.8" y1="814.275" y2="814.275"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="810.2223">20</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="51.2" x="613.2" y="810.2223">getPorts()</text><path d="M478,850.275 L529.2,850.275 L529.2,855.875 L521.2,863.875 L478,863.875 L478,850.275 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="850.275"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="490" y="860.7285">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="168" x="541.2" y="860.0434">[for each capital in countries list]</text><polygon fill="#A80036" points="2048.4,877.6875,2056.4,880.8875,2048.4,884.0875,2051.6,880.8875" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="2053.2" y1="880.8875" y2="880.8875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="876.8348">21</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="613.2" y="876.8348">add(capital)</text><path d="M478,898.4875 L529.2,898.4875 L529.2,904.0875 L521.2,912.0875 L478,912.0875 L478,898.4875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="898.4875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="490" y="908.941">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="133.6" x="541.2" y="908.2559">[for each port in portsList]</text><polygon fill="#A80036" points="2048.4,925.9,2056.4,929.1,2048.4,932.3,2051.6,929.1" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="2053.2" y1="929.1" y2="929.1"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="925.0473">22</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="48" x="613.2" y="925.0473">add(port)</text><path d="M470,946.7 L521.2,946.7 L521.2,952.3 L513.2,960.3 L470,960.3 L470,946.7 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="227.1438" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1622.4" x="470" y="946.7"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="482" y="957.1535">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="172.8" x="533.2" y="956.4684">[for each country in countries list]</text><polygon fill="#A80036" points="1134.8,974.1125,1142.8,977.3125,1134.8,980.5125,1138,977.3125" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1139.6" y1="977.3125" y2="977.3125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="973.2598">23</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="289.6" x="613.2" y="973.2598">&lt;String, Integer&gt;Map borders =  getBordersDistances()</text><path d="M478,1013.3125 L529.2,1013.3125 L529.2,1018.9125 L521.2,1026.9125 L478,1026.9125 L478,1013.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="1013.3125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="490" y="1023.766">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="139.2" x="541.2" y="1023.0809">[for each border in borders]</text><polygon fill="#A80036" points="2048.4,1040.725,2056.4,1043.925,2048.4,1047.125,2051.6,1043.925" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="2053.2" y1="1043.925" y2="1043.925"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="1039.8723">24</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="283.2" x="613.2" y="1039.8723">addEdge(country.getCapital, border.key, border.value)</text><polygon fill="#A80036" points="1134.8,1069.6313,1142.8,1072.8313,1134.8,1076.0313,1138,1072.8313" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1139.6" y1="1072.8313" y2="1072.8313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="1068.7785">25</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="437.6" x="613.2" y="1068.7785">getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))</text><polygon fill="#A80036" points="1134.8,1116.9375,1142.8,1120.1375,1134.8,1123.3375,1138,1120.1375" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="1139.6" y1="1120.1375" y2="1120.1375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="1116.0848">26</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="323.2" x="613.2" y="1116.0848">getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)</text><polygon fill="#A80036" points="2048.4,1164.2438,2056.4,1167.4438,2048.4,1170.6438,2051.6,1167.4438" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="2053.2" y1="1167.4438" y2="1167.4438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="1163.391">27</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="224.8" x="613.2" y="1163.391">addEdge(country.Capital, closest.Port, dist)</text><path d="M470,1185.0438 L521.2,1185.0438 L521.2,1190.6438 L513.2,1198.6438 L470,1198.6438 L470,1185.0438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="61.9188" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1622.4" x="470" y="1185.0438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="482" y="1195.4973">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="115.2" x="533.2" y="1194.8121">[for each port in ports]</text><path d="M478,1204.35 L529.2,1204.35 L529.2,1209.95 L521.2,1217.95 L478,1217.95 L478,1204.35 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8000000000000002;"/><rect fill="none" height="37.0125" style="stroke:#000000;stroke-width:1.6000000000000003;" width="1606.4" x="478" y="1204.35"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="15.2" x="490" y="1214.8035">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacing" textLength="142.4" x="541.2" y="1214.1184">[for each toDistance in port]</text><polygon fill="#A80036" points="2048.4,1231.7625,2056.4,1234.9625,2048.4,1238.1625,2051.6,1234.9625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="590" x2="2053.2" y1="1234.9625" y2="1234.9625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="595.6" y="1230.9098">28</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="244" x="613.2" y="1230.9098">addEdge(port, portStore.getPortbyId(key), dist)</text><polygon fill="#A80036" points="402,1266.2688,394,1269.4688,402,1272.6688,398.8,1269.4688" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="397.2" x2="585.2" y1="1269.4688" y2="1269.4688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="406.8" y="1265.416">29</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="29.6" x="424.4" y="1265.416">result</text><polygon fill="#A80036" points="60.4,1289.575,52.4,1292.775,60.4,1295.975,57.2,1292.775" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="55.6" x2="388.4" y1="1292.775" y2="1292.775"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="65.2" y="1288.7223">30</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="184" x="82.8" y="1288.7223">informs of operation success or fail</text><!--MD5=[ac5e00023539ef60541e69b1a50612b1]
@startuml
autonumber
'hide footbox
actor "Traffic Manager" as PM
participant ":CreateFreightNetworkUI  " as UI
participant ":CreateFreightNetworkController" as CTRL
participant ":Company" as CMP
participant ":CountryStoreDb" as CSTORE
participant ":CountryStore" as LSTORE
participant ":PortStoreDb" as STORE
participant ":PortStore" as PSTORE
participant ":Port" as PORT
participant ":Capital" as CAP
participant ":Country" as CTRY


activate PM
PM -> UI : asks to create a freight network importing ports, countries\n and seadists from database
activate UI

UI -> CTRL : CreateFreightNetworkFromDb()
activate CTRL
CTRL -> CSTORE** : create
CTRL -> CSTORE : List<Country> existentCountries = getExistentCountries()
activate CSTORE
CSTORE -> CSTORE: resultSet = getCountriesInDatabase()
CSTORE -> CTRL: existentCountries
deactivate CSTORE
CTRL -> CMP : countryStore = getCountryStore()
activate CMP
deactivate CMP
alt for each country in existentCountries
CTRL -> LSTORE : createCountry(countryDto)
activate LSTORE
LSTORE -> CTRL : country
deactivate LSTORE
CTRL -> LSTORE: saveCountry(country)
activate LSTORE
deactivate LSTORE
end
deactivate CSTORE
CTRL -> STORE** : create
CTRL -> STORE : List<Port> existentPorts = portStoreDb.getExistentPorts()
activate STORE
STORE -> STORE: resultSet = getPortsInDatabase()
alt for each port in resultset
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude, Map<Integer, Integer> toPortsDistances)
STORE -> STORE : existentPorts.add(port)
end
deactivate STORE

CTRL -> CMP: portStore = getPortStore()
activate CMP
deactivate CMP

CTRL -> PSTORE : importPortsList(existentPorts)
activate PSTORE
deactivate PSTORE
deactivate STORE
CTRL -> CMP : getFreigthNetwork()
activate CMP
deactivate CMP
CTRL -> CSTORE : getCountries()
activate CSTORE
deactivate CSTORE
CTRL -> PSTORE: getPorts()
activate PSTORE
deactivate PSTORE
alt for each capital in countries list
CTRL -> NET : add(capital)
end
alt for each port in portsList
CTRL -> NET : add(port)
end
alt for each country in countries list
CTRL -> LSTORE : <String, Integer>Map borders =  getBordersDistances()
activate LSTORE
deactivate LSTORE
alt for each border in borders
CTRL -> NET : addEdge(country.getCapital, border.key, border.value)
end
CTRL -> LSTORE: getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))
activate LSTORE
deactivate LSTORE
CTRL -> LSTORE: getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)
activate LSTORE
deactivate LSTORE
CTRL -> NET : addEdge(country.Capital, closest.Port, dist)
end
alt for each port in ports
alt for each toDistance in port
CTRL -> NET : addEdge(port, portStore.getPortbyId(key), dist)
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

@startuml
autonumber
actor "Traffic Manager" as PM
participant ":CreateFreightNetworkUI  " as UI
participant ":CreateFreightNetworkController" as CTRL
participant ":Company" as CMP
participant ":CountryStoreDb" as CSTORE
participant ":CountryStore" as LSTORE
participant ":PortStoreDb" as STORE
participant ":PortStore" as PSTORE
participant ":Port" as PORT
participant ":Capital" as CAP
participant ":Country" as CTRY


activate PM
PM -> UI : asks to create a freight network importing ports, countries\n and seadists from database
activate UI

UI -> CTRL : CreateFreightNetworkFromDb()
activate CTRL
CTRL -> CSTORE** : create
CTRL -> CSTORE : List<Country> existentCountries = getExistentCountries()
activate CSTORE
CSTORE -> CSTORE: resultSet = getCountriesInDatabase()
CSTORE -> CTRL: existentCountries
deactivate CSTORE
CTRL -> CMP : countryStore = getCountryStore()
activate CMP
deactivate CMP
alt for each country in existentCountries
CTRL -> LSTORE : createCountry(countryDto)
activate LSTORE
LSTORE -> CTRL : country
deactivate LSTORE
CTRL -> LSTORE: saveCountry(country)
activate LSTORE
deactivate LSTORE
end
deactivate CSTORE
CTRL -> STORE** : create
CTRL -> STORE : List<Port> existentPorts = portStoreDb.getExistentPorts()
activate STORE
STORE -> STORE: resultSet = getPortsInDatabase()
alt for each port in resultset
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude, Map<Integer, Integer> toPortsDistances)
STORE -> STORE : existentPorts.add(port)
end
deactivate STORE

CTRL -> CMP: portStore = getPortStore()
activate CMP
deactivate CMP

CTRL -> PSTORE : importPortsList(existentPorts)
activate PSTORE
deactivate PSTORE
deactivate STORE
CTRL -> CMP : getFreigthNetwork()
activate CMP
deactivate CMP
CTRL -> CSTORE : getCountries()
activate CSTORE
deactivate CSTORE
CTRL -> PSTORE: getPorts()
activate PSTORE
deactivate PSTORE
alt for each capital in countries list
CTRL -> NET : add(capital)
end
alt for each port in portsList
CTRL -> NET : add(port)
end
alt for each country in countries list
CTRL -> LSTORE : <String, Integer>Map borders =  getBordersDistances()
activate LSTORE
deactivate LSTORE
alt for each border in borders
CTRL -> NET : addEdge(country.getCapital, border.key, border.value)
end
CTRL -> LSTORE: getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))
activate LSTORE
deactivate LSTORE
CTRL -> LSTORE: getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)
activate LSTORE
deactivate LSTORE
CTRL -> NET : addEdge(country.Capital, closest.Port, dist)
end
alt for each port in ports
alt for each toDistance in port
CTRL -> NET : addEdge(port, portStore.getPortbyId(key), dist)
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 WEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>