<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1091px" preserveAspectRatio="none" style="width:1787px;height:1091px;background:#FFFFFF;" version="1.1" viewBox="0 0 1787 1091" width="1787px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t0pv67cxufq2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="888.3047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="53" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="758.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="229.2734"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="620.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="336.5859"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="269.625"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="890.5" y="417.6406"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="983.5" y="502.9922"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1613.5" y="543.3438"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1613.5" y="746.4531"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1698.5" y="620.3047"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1698.5" y="807.1563"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="576.625" style="stroke:#000000;stroke-width:2.0;" width="1269.5" x="504" y="351.5859"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="544.2734" style="stroke:#000000;stroke-width:2.0;" width="1249.5" x="514" y="376.9375"/><rect fill="#FFFFFF" height="212.9453" style="stroke:none;stroke-width:1.0;" width="1249.5" x="514" y="708.2656"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="386" x="524" y="852.5078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="89.6094" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="89.6094" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="613" x2="613" y1="163.2656" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="794.5" x2="794.5" y1="270.5781" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="895.5" x2="895.5" y1="89.6094" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="988.5" x2="988.5" y1="89.6094" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1082.5" x2="1082.5" y1="89.6094" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1618.5" x2="1618.5" y1="544.2969" y2="1005.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1703.5" x2="1703.5" y1="621.2578" y2="1005.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="5" y="86.5332">Traffic Manager</text><ellipse cx="58" cy="15" fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M58,23 L58,50 M45,31 L71,31 M58,50 L45,65 M58,50 L71,65 " fill="none" filter="url(#f1t0pv67cxufq2)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="5" y="1019.4473">Traffic Manager</text><ellipse cx="58" cy="1032.5234" fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M58,1040.5234 L58,1067.5234 M45,1048.5234 L71,1048.5234 M58,1067.5234 L45,1082.5234 M58,1067.5234 L71,1082.5234 " fill="none" filter="url(#f1t0pv67cxufq2)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="309" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="316" y="74.5332">:ImportShipsUI</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="309" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="316" y="1026.4473">:ImportShipsUI</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="154" x="534" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="541" y="1026.4473">:ImportShipsController</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="745.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="752.5" y="1026.4473">:ShipFileUtils</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="854.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="861.5" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="854.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="861.5" y="1026.4473">:Company</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="946.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="953.5" y="74.5332">:ShipStore</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="946.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="953.5" y="1026.4473">:ShipStore</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1040.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1047.5" y="74.5332">:ShipsBST</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1040.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1047.5" y="1026.4473">:ShipsBST</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="1593.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1600.5" y="1026.4473">:Ship</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1653.5" y="1004.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1660.5" y="1026.4473">:ShipPosition</text><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="888.3047" style="stroke:#A80036;stroke-width:1.0;" width="10" x="53" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="758.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="229.2734"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="620.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="608" y="336.5859"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="790" y="269.625"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="890.5" y="417.6406"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="983.5" y="502.9922"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1613.5" y="543.3438"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1613.5" y="746.4531"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1698.5" y="620.3047"/><rect fill="#FFFFFF" filter="url(#f1t0pv67cxufq2)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1698.5" y="807.1563"/><polygon fill="#A80036" points="350,117.9609,360,121.9609,350,125.9609,354,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="356" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="81" y="117.1045">asks to import ships from a text file into a BST</text><polygon fill="#A80036" points="522,148.3125,532,152.3125,522,156.3125,526,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="372" x2="528" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="379" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="390" y="147.4561">create()</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="154" x="534" y="129.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="541" y="151.4941">:ImportShipsController</text><polygon fill="#A80036" points="74,194.9219,64,198.9219,74,202.9219,70,198.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68" x2="366" y1="198.9219" y2="198.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="80" y="194.0654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="91" y="194.0654">asks for data(i.e., pathOfFile)</text><polygon fill="#A80036" points="350,225.2734,360,229.2734,350,233.2734,354,229.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="356" y1="229.2734" y2="229.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70" y="224.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="81" y="224.417">types requested data</text><polygon fill="#A80036" points="733.5,255.625,743.5,259.625,733.5,263.625,737.5,259.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="372" x2="739.5" y1="259.625" y2="259.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="379" y="254.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="390" y="254.7686">create()</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="745.5" y="237.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="752.5" y="258.8066">:ShipFileUtils</text><polygon fill="#A80036" points="783,302.2344,793,306.2344,783,310.2344,787,306.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="372" x2="789" y1="306.2344" y2="306.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="379" y="301.3779">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="383" x="390" y="301.3779">List&lt;ShipsFileDTO&gt;shipsOfFile = getShipsDataToDTO(pathOfFile)</text><polygon fill="#A80036" points="596,332.5859,606,336.5859,596,340.5859,600,336.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="372" x2="602" y1="336.5859" y2="336.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="379" y="331.7295">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="390" y="331.7295">importShipsFromFile(shipsFileDTO)</text><path d="M504,351.5859 L565,351.5859 L565,359.5859 L555,369.5859 L504,369.5859 L504,351.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="576.625" style="stroke:#000000;stroke-width:2.0;" width="1269.5" x="504" y="351.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="519" y="366.0811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="580" y="365.0049">[for each ShipsFileDTO of the list]</text><path d="M514,376.9375 L575,376.9375 L575,384.9375 L565,394.9375 L514,394.9375 L514,376.9375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="544.2734" style="stroke:#000000;stroke-width:2.0;" width="1249.5" x="514" y="376.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="529" y="391.4326">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196" x="590" y="390.3564">[if ship doesn't exist in the system]</text><polygon fill="#A80036" points="878.5,413.6406,888.5,417.6406,878.5,421.6406,882.5,417.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="884.5" y1="417.6406" y2="417.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="412.7842">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="636" y="412.7842">getShipStore()</text><polygon fill="#A80036" points="971.5,498.9922,981.5,502.9922,971.5,506.9922,975.5,502.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="977.5" y1="502.9922" y2="502.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="625" y="498.1357">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="636" y="498.1357">createShip(shipsFileDTO)</text><polygon fill="#A80036" points="1581.5,529.3438,1591.5,533.3438,1581.5,537.3438,1585.5,533.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="988.5" x2="1587.5" y1="533.3438" y2="533.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="995.5" y="528.4873">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="558" x="1013.5" y="528.4873">create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="1593.5" y="510.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1600.5" y="532.5254">:Ship</text><polygon fill="#A80036" points="629,575.9531,619,579.9531,629,583.9531,625,579.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="623" x2="1617.5" y1="579.9531" y2="579.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="635" y="575.0967">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="653" y="575.0967">newShip</text><polygon fill="#A80036" points="1641.5,606.3047,1651.5,610.3047,1641.5,614.3047,1645.5,610.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1647.5" y1="610.3047" y2="610.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="605.4482">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="643" y="605.4482">create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)</text><rect fill="#FEFECE" filter="url(#f1t0pv67cxufq2)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1653.5" y="587.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1660.5" y="609.4863">:ShipPosition</text><polygon fill="#A80036" points="629,652.9141,619,656.9141,629,660.9141,625,656.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="623" x2="1702.5" y1="656.9141" y2="656.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="635" y="652.0576">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="653" y="652.0576">firstShipPosition</text><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="660" y1="687.2656" y2="687.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="660" x2="660" y1="687.2656" y2="700.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="619" x2="660" y1="700.2656" y2="700.2656"/><polygon fill="#A80036" points="629,696.2656,619,700.2656,629,704.2656,625,700.2656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="682.4092">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="643" y="682.4092">saveShip()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="514" x2="1763.5" y1="709.2656" y2="709.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="201" x="519" y="720.6846">[if ship already exists in the system]</text><polygon fill="#A80036" points="1601.5,742.4531,1611.5,746.4531,1601.5,750.4531,1605.5,746.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1607.5" y1="746.4531" y2="746.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="741.5967">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="558" x="643" y="741.5967">create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)</text><polygon fill="#A80036" points="629,772.8047,619,776.8047,629,780.8047,625,776.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="623" x2="1617.5" y1="776.8047" y2="776.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="635" y="771.9482">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="653" y="771.9482">existingShipCopy</text><polygon fill="#A80036" points="1686.5,803.1563,1696.5,807.1563,1686.5,811.1563,1690.5,807.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="1692.5" y1="807.1563" y2="807.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="802.2998">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430" x="643" y="802.2998">create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)</text><polygon fill="#A80036" points="629,833.5078,619,837.5078,629,841.5078,625,837.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="623" x2="1702.5" y1="837.5078" y2="837.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="635" y="832.6514">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="653" y="832.6514">newShipPosition</text><path d="M524,852.5078 L585,852.5078 L585,860.5078 L575,870.5078 L524,870.5078 L524,852.5078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="386" x="524" y="852.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="539" y="867.0029">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="305" x="600" y="865.9268">[if existingShipCopy doesn't have the newShipPosition]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="618" x2="660" y1="893.2109" y2="893.2109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="660" x2="660" y1="893.2109" y2="906.2109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="619" x2="660" y1="906.2109" y2="906.2109"/><polygon fill="#A80036" points="629,902.2109,619,906.2109,629,910.2109,625,906.2109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="625" y="888.3545">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="643" y="888.3545">saveShip()</text><polygon fill="#A80036" points="383,953.5625,373,957.5625,383,961.5625,379,957.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="377" x2="612" y1="957.5625" y2="957.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="389" y="952.7061">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="407" y="952.7061">result</text><polygon fill="#A80036" points="69,983.9141,59,987.9141,69,991.9141,65,987.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="366" y1="987.9141" y2="987.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="983.0576">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="93" y="983.0576">informs of operation success or fail</text><!--MD5=[c7f2c00baaba92933163c7771ae508f9]
@startuml
autonumber
'hide footbox
actor "Traffic Manager" as TM
participant ":ImportShipsUI  " as UI
participant ":ImportShipsController" as CTRL
participant ":ShipFileUtils" as TFU
participant ":Company" as CMP
participant ":ShipStore" as STORE
participant ":ShipsBST" as SBST
participant ":Ship" as SHIP
participant ":ShipPosition" as POS

activate TM
TM -> UI : asks to import ships from a text file into a BST
activate UI
UI -> CTRL** : create()
UI - -> TM : asks for data(i.e., pathOfFile)
deactivate UI
TM -> UI : types requested data
activate UI
UI -> TFU** : create()
activate TFU
UI -> TFU : List<ShipsFileDTO>shipsOfFile = getShipsDataToDTO(pathOfFile)
deactivate TFU
UI -> CTRL : importShipsFromFile(shipsFileDTO)
activate CTRL
alt for each ShipsFileDTO of the list
alt if ship doesn't exist in the system
CTRL -> CMP : getShipStore()
activate CMP
|||
deactivate CMP
CTRL -> STORE : createShip(shipsFileDTO)
activate STORE
STORE -> SHIP** : create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)
activate SHIP
deactivate STORE
SHIP - -> CTRL : newShip
deactivate SHIP
CTRL -> POS** : create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)
activate POS
POS - -> CTRL : firstShipPosition
deactivate POS
CTRL -> CTRL : saveShip()
else if ship already exists in the system
CTRL -> SHIP : create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)
activate SHIP
SHIP - -> CTRL : existingShipCopy
deactivate SHIP
CTRL -> POS : create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)
activate POS
POS - -> CTRL : newShipPosition
deactivate POS
alt if existingShipCopy doesn't have the newShipPosition
CTRL -> CTRL : saveShip()
end
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> TM : informs of operation success or fail
deactivate UI
deactivate TM

@enduml

@startuml
autonumber
actor "Traffic Manager" as TM
participant ":ImportShipsUI  " as UI
participant ":ImportShipsController" as CTRL
participant ":ShipFileUtils" as TFU
participant ":Company" as CMP
participant ":ShipStore" as STORE
participant ":ShipsBST" as SBST
participant ":Ship" as SHIP
participant ":ShipPosition" as POS

activate TM
TM -> UI : asks to import ships from a text file into a BST
activate UI
UI -> CTRL** : create()
UI - -> TM : asks for data(i.e., pathOfFile)
deactivate UI
TM -> UI : types requested data
activate UI
UI -> TFU** : create()
activate TFU
UI -> TFU : List<ShipsFileDTO>shipsOfFile = getShipsDataToDTO(pathOfFile)
deactivate TFU
UI -> CTRL : importShipsFromFile(shipsFileDTO)
activate CTRL
alt for each ShipsFileDTO of the list
alt if ship doesn't exist in the system
CTRL -> CMP : getShipStore()
activate CMP
|||
deactivate CMP
CTRL -> STORE : createShip(shipsFileDTO)
activate STORE
STORE -> SHIP** : create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)
activate SHIP
deactivate STORE
SHIP - -> CTRL : newShip
deactivate SHIP
CTRL -> POS** : create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)
activate POS
POS - -> CTRL : firstShipPosition
deactivate POS
CTRL -> CTRL : saveShip()
else if ship already exists in the system
CTRL -> SHIP : create(positionsBST, mmsi, vesselName, IMO, callSign, vesselType, leength, width, draft, cargo)
activate SHIP
SHIP - -> CTRL : existingShipCopy
deactivate SHIP
CTRL -> POS : create(MMSI, baseDateTime, lat, lon, sog, cog, heading, transcieverClass)
activate POS
POS - -> CTRL : newShipPosition
deactivate POS
alt if existingShipCopy doesn't have the newShipPosition
CTRL -> CTRL : saveShip()
end
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> TM : informs of operation success or fail
deactivate UI
deactivate TM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>